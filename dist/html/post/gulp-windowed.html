<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124182818-1"></script>
        <script>
            window.dataLayer = window.dataLayer || []
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'UA-124182818-1');
        </script>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <title>Tomer Aberbach | Gulp Windowed NPM Module</title>

        <meta name="author" content="Tomer Aberbach">
        <meta name="creator" content="Tomer Aberbach">
        <meta name="description" content="A Gulp plugin that processes and maps files in windows/arrays of a specified size.">
        <meta name="keywords" content="code,computer science,git,github,gulp,javascript,mathematics,module,nodejs,npm,plugin,portfolio,programming,read,resume">

        <meta itemprop="name" content="Tomer Aberbach | Gulp Windowed NPM Module">
        <meta itemprop="description" content="A Gulp plugin that processes and maps files in windows/arrays of a specified size.">
        <meta itemprop="image" content="https://tomeraberba.ch/img/icon.png">

        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@TomerAberbach">
        <meta name="twitter:title" content="Tomer Aberbach | Gulp Windowed NPM Module">
        <meta name="twitter:description" content="A Gulp plugin that processes and maps files in windows/arrays of a specified size.">
        <meta name="twitter:creator" content="@TomerAberbach">
        <meta name="twitter:image" content="https://tomeraberba.ch/img/icon.png">
        <meta name="twitter:image:src" content="https://tomeraberba.ch/img/icon.png">

        <meta property="og:title" content="Tomer Aberbach | Gulp Windowed NPM Module">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://tomeraberba.ch/html/post/gulp-windowed.html">
        <meta property="og:image" content="https://tomeraberba.ch/img/icon.png">
        <meta property="og:description" content="A Gulp plugin that processes and maps files in windows/arrays of a specified size.">
        <meta property="og:site_name" content="Tomer Aberbach | Gulp Windowed NPM Module">

        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
<link rel="manifest" href="/favicon/site.webmanifest">
<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/favicon/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png">
<meta name="msapplication-config" content="/favicon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

                <link rel="stylesheet" href="../../css/all.css">
                <link rel="stylesheet" href="../../css/post.css">
    </head>
    <body>
        <header id="site-header">
            <h1>
                <a href="../../index.html">
                    tomer aberbach
                </a>
            </h1>

                <a href="mailto:tomeraberbach@gmail.com" target="_blank" rel="noopener">
                    <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><title>Email</title><path d="M9.732 8.485l4.95 4.242a1.01 1.01 0 01-.689.273H2.007a1.01 1.01 0 01-.69-.27l4.951-4.245L8 10zM8 9L1.318 3.273A1.01 1.01 0 012.007 3h11.986c.268 0 .51.103.69.27zm7 3.186l-4.833-4.107L15 3.875v8.31zm-14 0V3.878l4.833 4.2L1 12.187zm0 0"/></svg>
                </a>
                <a href="https://github.com/TomerAberbach" target="_blank" rel="noopener">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
                </a>
                <a href="https://www.npmjs.com/~tomeraberbach" target="_blank" rel="noopener">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>NPM</title><path d="M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331z"/><path d="M10.665 10H12v2.667h-1.335V10z"/></svg>
                </a>
                <a href="https://www.linkedin.com/in/tomer-a" target="_blank" rel="noopener">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                </a>
                <a href="https://stackoverflow.com/users/story/5195839" target="_blank" rel="noopener">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"/></svg>
                </a>
                <a href="https://www.redbubble.com/people/tomeraberbach" target="_blank" rel="noopener">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Redbubble</title><path d="M16.633 16.324h-3.199a.321.321 0 01-.32-.322V7.974a.32.32 0 01.32-.32H16.4c2.226 0 2.693 1.31 2.693 2.408 0 .636-.169 1.14-.504 1.511.816.337 1.256 1.096 1.256 2.194 0 1.601-1.201 2.557-3.212 2.557m-4.644 0H5.345a.32.32 0 01-.32-.322V7.974a.32.32 0 01.32-.32h3.103c1.939 0 3.096 1.043 3.096 2.791 0 1.163-.585 2.077-1.527 2.448l2.21 2.897a.322.322 0 01-.24.533M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12c6.628 0 12-5.373 12-12S18.63 0 12.001 0"/></svg>
                </a>
        </header>

        <main>
            <article>
    <h1>Gulp Windowed NPM Module</h1>

    <ul class="tags-ul">
            <li>
                <a href="../tag/code/1.html">code</a>
            </li>
            <li>
                <a href="../tag/git/1.html">git</a>
            </li>
            <li>
                <a href="../tag/github/1.html">github</a>
            </li>
            <li>
                <a href="../tag/gulp/1.html">gulp</a>
            </li>
            <li>
                <a href="../tag/javascript/1.html">javascript</a>
            </li>
            <li>
                <a href="../tag/module/1.html">module</a>
            </li>
            <li>
                <a href="../tag/nodejs/1.html">nodejs</a>
            </li>
            <li>
                <a href="../tag/npm/1.html">npm</a>
            </li>
            <li>
                <a href="../tag/plugin/1.html">plugin</a>
            </li>
            <li>
                <a href="../tag/read/1.html">read</a>
            </li>
    </ul>

    <ul class="links-ul">
            <li>
                <a href="https://www.npmjs.com/package/gulp-windowed" target="_blank" rel="noopener"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>NPM</title><path d="M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331z"/><path d="M10.665 10H12v2.667h-1.335V10z"/></svg></a>
            </li>
            <li>
                <a href="https://github.com/TomerAberbach/gulp-windowed" target="_blank" rel="noopener"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>
            </li>
    </ul>

    <blockquote>
<p>Processes and maps files in windows/arrays of a specified size.</p>
</blockquote>
<h2 id="install">Install <a class="header-anchor" href="#install" aria-hidden="true">¶</a></h2>
<p>Install with <a href="https://www.npmjs.com" class="external-a" target="_blank" rel="noopener">npm</a>:</p>
<pre><code class="hljs language-sh">$ npm i gulp-windowed --save
</code></pre>
<h2 id="usage">Usage <a class="header-anchor" href="#usage" aria-hidden="true">¶</a></h2>
<p>This example concatenates groups of 5 markdown files. If <code>src/posts</code> contained files <code>post0.md</code> through <code>post99.md</code> then the next pipe would receive a stream containing <code>page0.md</code> through <code>page19.md</code> where <code>page0.md</code> is the concatenation of <code>post0.md</code> through <code>post4.md</code>. The ordering is guaranteed by the use of <a href="https://www.npmjs.com/package/gulp-sort" class="external-a" target="_blank" rel="noopener">gulp-sort</a>.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp'</span>)
<span class="hljs-keyword">const</span> sort = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-sorted'</span>)
<span class="hljs-keyword">const</span> windowed = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-windowed'</span>)
<span class="hljs-keyword">const</span> concat = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-concat'</span>)

gulp.task(<span class="hljs-string">'default'</span>, () =&gt;
  gulp.src(<span class="hljs-string">'src/posts/*.md'</span>) <span class="hljs-comment">// Posts in markdown</span>
    .pipe(sort()) <span class="hljs-comment">// Sorted by filename</span>
    .pipe(windowed(<span class="hljs-number">5</span>, (files, i) =&gt; <span class="hljs-comment">// In groups of 5</span>
      files.pipe(concat(<span class="hljs-string">`page<span class="hljs-subst">${i}</span>.md`</span>)) <span class="hljs-comment">// Concatenated into one page where 'i' is the window number</span>
    ))
    <span class="hljs-comment">// More pipes...</span>
)
</code></pre>
<p>Here it is used to split groups of files into different folders.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp'</span>)
<span class="hljs-keyword">const</span> windowed = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-windowed'</span>)
<span class="hljs-keyword">const</span> rename = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-rename'</span>)

gulp.task(<span class="hljs-string">'default'</span>, () =&gt;
  gulp.src(<span class="hljs-string">'src/*'</span>)
    .pipe(windowed(<span class="hljs-number">10</span>, (files, i, done) =&gt;
      files.pipe(rename({
        <span class="hljs-attr">dirname</span>: <span class="hljs-string">`folder<span class="hljs-subst">${i}</span>`</span>
      }))
    ))
    <span class="hljs-comment">// More pipes...</span>
)
</code></pre>
<p>Here it is used to skip every other file.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp'</span>)
<span class="hljs-keyword">const</span> windowed = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-windowed'</span>)

gulp.task(<span class="hljs-string">'default'</span>, () =&gt;
  gulp.src(<span class="hljs-string">'src/*'</span>)
    .pipe(windowed(<span class="hljs-number">1</span>, (files, i, done) =&gt;
      i % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> ? files : done()
    ))
    <span class="hljs-comment">// More pipes...</span>
)
</code></pre>
<p>Notice that the stream of <code>File</code> objects in the callback can be returned from the callback. They are subsequently written to the resulting stream for the next pipe <em>outside</em> the callback. This is useful because it allows you to perform stream operations on the groups of files, while also allowing you to merge the resulting streams back together to continue performing operations.</p>
<p>If you’d like an array of <code>File</code> objects instead of a stream then call <code>windowed.array</code> instead.</p>
<h2 id="method">Method <a class="header-anchor" href="#method" aria-hidden="true">¶</a></h2>
<p><code>windowed(n, cb) -&gt; DuplexObjectStream&lt;File&gt;</code></p>
<p>Calls <code>cb</code> with a readable object stream (or array for <code>window.array</code>) containing <code>n</code> <a href="https://www.npmjs.com/package/vinyl" class="external-a" target="_blank" rel="noopener">vinyl</a> <code>File</code> objects each time <code>n</code> are written to it. On stream end if there are any remaining <code>File</code> objects because the <code>n</code> threshold was not met then <code>cb</code> is called with a readable object stream (or array for <code>window.array</code>) containing the remaining [0, <code>n</code>) <code>File</code> objects. The contents of the duplex object stream returned by the method depends on <code>cb</code> (explained below).</p>
<p>Parameters:</p>
<ul>
<li><code>n</code> : <code>int</code> - A number of <code>File</code> objects to include per window. Must be a positive integer.</li>
<li><code>cb</code> : <code>(files, i, done) -&gt; File | Array&lt;File&gt; | Promise&lt;File | Array&lt;File&gt; | *&gt; | Observable&lt;File | Array&lt;File&gt; | *&gt; | ChildProcess | ReadableObjectStream&lt;File&gt; | undefined</code> - A callback which either calls <code>done</code> or returns a <code>File</code> object, an array of <code>File</code> objects, or an asynchronous operation in some returnable format (see possible <code>cb</code> return types and <a href="https://www.npmjs.com/package/async-done" class="external-a" target="_blank" rel="noopener">async-done</a>). If an asynchronous operation is returned it will be resolved. If the result of <code>cb</code>, through calling <code>done</code> or returning an asynchronous operation, is a <code>File</code> object or an array of <code>File</code> objects then they will be written to the duplex object stream returned from <code>windowed</code>.
<ul>
<li><code>files</code> : <code>ReadableObjectStream&lt;File&gt; | Array&lt;File&gt;</code> - A readable object stream (or array for <code>window.array</code>) containing up to <code>n</code> <a href="https://www.npmjs.com/package/vinyl" class="external-a" target="_blank" rel="noopener">vinyl</a> <code>File</code> objects (see above from why not exactly <code>n</code>).</li>
<li><code>i</code> : <code>int</code> - The current zero-based window number (i.e. the number of times <code>cb</code> has been called minus one).</li>
<li><code>done</code> : <code>(err, result) -&gt; undefined</code> - Call <code>done(new Error(...))</code> for error or <code>done(null, result)</code> for success when performing asynchronous operations in non-returnable format or when performing strictly synchronous operations. This method does not need to be and should not be called if a valid value of the types mentioned above is returned from <code>cb</code>.</li>
</ul>
</li>
</ul>
<h2 id="pairs-well-with">Pairs Well With <a class="header-anchor" href="#pairs-well-with" aria-hidden="true">¶</a></h2>
<ul>
<li><a href="https://www.npmjs.com/package/gulp-sort" class="external-a" target="_blank" rel="noopener">gulp-sort</a></li>
<li><a href="https://www.npmjs.com/package/gulp-concat" class="external-a" target="_blank" rel="noopener">gulp-concat</a></li>
<li><a href="https://www.npmjs.com/package/gulp-rename" class="external-a" target="_blank" rel="noopener">gulp-rename</a></li>
<li><a href="https://www.npmjs.com/package/through2" class="external-a" target="_blank" rel="noopener">through2</a></li>
</ul>
<h2 id="contributing">Contributing <a class="header-anchor" href="#contributing" aria-hidden="true">¶</a></h2>
<p>Pull requests and stars on the <a href="https://github.com/TomerAberbach/gulp-windowed" class="external-a" target="_blank" rel="noopener">GitHub repository</a> are always welcome. For bugs and feature requests, <a href="https://github.com/TomerAberbach/gulp-windowed/issues/new" class="external-a" target="_blank" rel="noopener">please create an issue</a>.</p>
<h2 id="running-tests">Running Tests <a class="header-anchor" href="#running-tests" aria-hidden="true">¶</a></h2>
<p>Install dev dependencies:</p>
<pre><code class="hljs language-sh">$ npm i -d &amp;&amp; npm <span class="hljs-built_in">test</span>
</code></pre>
<h2 id="license">License <a class="header-anchor" href="#license" aria-hidden="true">¶</a></h2>
<p>Copyright © 2018 Tomer Aberbach
Released under the <a href="https://github.com/TomerAberbach/gulp-windowed/blob/master/LICENSE" class="external-a" target="_blank" rel="noopener">MIT license</a>.</p>

</article>
        </main>

        <footer id="site-footer">
            <span id="newer-span" style="visibility: hidden;"><a href="../../0.html">Newer</a></span>
            <div>
                <div id="tags-div"><a href="../tag/tags.html">Tags</a></div>
                <a href="../../index.html">
                    <img src="../../img/icon.png">
                </a>
                <div style="visibility: hidden;">Page 1 of 0</div>
            </div>

            <span id="older-span" style="visibility: hidden;"><a href="../../2.html">Older</a></span>
        </footer>

    </body>
</html>
